#### 项目服务器模型的讲解

+ 该项目的服务器采用 Nginx + FastCGI 的结构来处理客户端发送的 HTTP 报文
+ 利用 Nginx 解析 HTTP 报文，并根据 HTTP 报文的 URL 将 HTTP 报文转换为 FastCGI 格式，并分配到相应的 FastCGI 程序中
+ FastCGI 程序处理完 HTTP 报文后会向客户端发送响应报文，从而完成一次数据传输

#### 客户端方面怎么设计

+ 客户端采用的是 QT 框架进行开发
+ 

#### 反向索引怎么实现的



#### 如果数据量很大，数据库怎么办(读写分离、分布式)

+ 由于一个系统的读操作远远多于写操作，因此可以利用 MySQL 中内置的主从复制功能，将数据库分为主数据库和从数据库，主数据库通过主从复制机制将数据更新同步到从数据库
+ 当应用需要写数据时，访问主数据库，需要读数据时，则访问从数据库，这样可以应用可以轻松读取数据，而主数据库则只需要承受少量的写数据操作
+ 数据库主从复制的优点：
  + 主库出现问题，可以快速切换到从库提供服务。
  + 可以在从库上执行查询操作，从主库中更新，实现读写分离，降低主库的访问压力。
  + 可以在从库中执行备份，以避免备份期间影响主库的服务。
+ 数据库的主从复制分为以下三步：
  + 主库在事务提交时，会把数据变更作为时间 Events 记录在二进制日志文件 Binlog 中
  + 主库推送二进制日志文件 Binlog 到从库的中继日志 Relay Log
  + 从库重做中继日志中的事件，将主库上的改变反映到它自己的数据库中
  + 此时主库和从库的数据则完全一样

#### 不同线程访问同一个变量，他的安全可以通过什么手段来保证？



#### 讲述一些你的客户端到服务器的整体流程吧

+ 以用户登陆为例子，用户在输入框中填写好用户名密码并点击后，将从配置文件中读取服务器的 IP 地址和端口号，再读取输入框中的用户名和密码，经过正则表达式的校验后，开始拼接  POST 报文的头部，并将用户名和加密后的密码以 JSON 的格式拼接成 POST 报文的主体，最后利用 QT 框架的 request 函数发送到服务器中

#### 说说你自定义的协议头吧

+ 该项目的协议头采用的是 HTTP 协议的协议头，并没有进行自定义

#### 采用qt是什么版本，为什么要用老版本

+ 项目用的是 QT5，现在最新的是 QT6
+ 因为 QT6 出来没多久，可能会有奇怪的 Bug，而且现在关于 QT6 的资料相对于 QT5 会少很多，在遇到问题的时候有可能比较难解决，所以使用了比较成熟的 QT5 开发该项目的客户端

#### 考虑过项目的版本更新吗？

+ 有考虑 (这里接着项目的优化方案)

#### 项目里实现了中介者或其他的模式吗，其他的模式了解过吗，例如观察者模式

+ 中介者模式
  + 项目里实现了
+ 单例模式
+ 观察者模式
+ 工厂模式

#### 项目是在本地跑还是在云服务上测试的

+ 在服务器上跑的

#### Redis用的那个客户端实现的分布式锁？做可重入了吗？项目中用单机的锁了吗？



#### 有做负载均衡还是对用户的请求有指向性的分配？



#### 线程的状态？等待和阻塞在什么情况下会发生？

+ C++ 中线程的状态有以下五种：
  + 初始化
  + 就绪
  + 运行
  + 阻塞
  + 退出
+ 而 Java 中则比 C++ 多一种等待的状态

#### MySQL有哪些操作或者哪些机制保证数据不丢失

+ 主从复制，一方面降低主数据库的压力，另一方面为主数据库提供了备份
+ 日志先行策略，只要binlog和redo log日志能保证持久化到磁盘，我们就能确保MySQL异常重启后，按照日志重新执行数据库操作，就能保证数据不丢失